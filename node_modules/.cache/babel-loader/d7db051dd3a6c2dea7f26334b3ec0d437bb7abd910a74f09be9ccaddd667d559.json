{"ast":null,"code":"import * as Provider from 'ox/Provider';\nimport * as RpcRequest from 'ox/RpcRequest';\nimport * as RpcResponse from 'ox/RpcResponse';\nimport { frameHost } from './frameHost';\nconst emitter = Provider.createEmitter();\nconst store = RpcRequest.createStore();\nfunction toProviderRpcError(_ref) {\n  let {\n    code,\n    details\n  } = _ref;\n  switch (code) {\n    case 4001:\n      return new Provider.UserRejectedRequestError();\n    case 4100:\n      return new Provider.UnauthorizedError();\n    case 4200:\n      return new Provider.UnsupportedMethodError();\n    case 4900:\n      return new Provider.DisconnectedError();\n    case 4901:\n      return new Provider.ChainDisconnectedError();\n    default:\n      return new Provider.ProviderRpcError(code, details ?? 'Unknown provider RPC error');\n  }\n}\nexport const provider = Provider.from({\n  ...emitter,\n  async request(args) {\n    // @ts-expect-error\n    const request = store.prepare(args);\n    try {\n      const response = await frameHost.ethProviderRequestV2(request).then(res => RpcResponse.parse(res, {\n        request,\n        raw: true\n      }));\n      if (response.error) {\n        throw toProviderRpcError(response.error);\n      }\n      return response.result;\n    } catch (e) {\n      // ethProviderRequestV2 not supported, fall back to v1\n      if (e instanceof Error && e.message.match(/cannot read property 'apply'/i)) {\n        return await frameHost.ethProviderRequest(request);\n      }\n      if (e instanceof Provider.ProviderRpcError || e instanceof RpcResponse.BaseError) {\n        throw e;\n      }\n      throw new RpcResponse.InternalError({\n        message: e instanceof Error ? e.message : undefined\n      });\n    }\n  }\n});\nfunction announceProvider(detail) {\n  const event = new CustomEvent('eip6963:announceProvider', {\n    detail: Object.freeze(detail)\n  });\n  window.dispatchEvent(event);\n  const handler = () => window.dispatchEvent(event);\n  window.addEventListener('eip6963:requestProvider', handler);\n  return () => window.removeEventListener('eip6963:requestProvider', handler);\n}\n// Required to pass SSR\nif (typeof document !== 'undefined') {\n  // forward eip6963:requestProvider events to the host\n  document.addEventListener('eip6963:requestProvider', () => {\n    frameHost.eip6963RequestProvider();\n  });\n  // react native webview events\n  document.addEventListener('FarcasterFrameEthProviderEvent', event => {\n    if (event instanceof MessageEvent) {\n      const ethProviderEvent = event.data;\n      // @ts-expect-error\n      emitter.emit(ethProviderEvent.event, ...ethProviderEvent.params);\n    }\n  });\n  document.addEventListener('FarcasterFrameEvent', event => {\n    if (event instanceof MessageEvent) {\n      const frameEvent = event.data;\n      if (frameEvent.event === 'eip6963:announceProvider') {\n        announceProvider({\n          info: frameEvent.info,\n          provider: provider\n        });\n      }\n    }\n  });\n}\n// Required to pass SSR\nif (typeof window !== 'undefined') {\n  // forward eip6963:requestProvider events to the host\n  window.addEventListener('eip6963:requestProvider', () => {\n    frameHost.eip6963RequestProvider();\n  });\n  // web events\n  window.addEventListener('message', event => {\n    if (event instanceof MessageEvent) {\n      if (event.data.type === 'frameEthProviderEvent') {\n        const ethProviderEvent = event.data;\n        // @ts-expect-error\n        emitter.emit(ethProviderEvent.event, ...ethProviderEvent.params);\n      }\n    }\n  });\n  window.addEventListener('message', event => {\n    if (event instanceof MessageEvent) {\n      if (event.data.type === 'frameEvent') {\n        const frameEvent = event.data.event;\n        if (frameEvent.event === 'eip6963:announceProvider') {\n          announceProvider({\n            info: frameEvent.info,\n            provider: provider\n          });\n        }\n      }\n    }\n  });\n}","map":{"version":3,"names":["Provider","RpcRequest","RpcResponse","frameHost","emitter","createEmitter","store","createStore","toProviderRpcError","_ref","code","details","UserRejectedRequestError","UnauthorizedError","UnsupportedMethodError","DisconnectedError","ChainDisconnectedError","ProviderRpcError","provider","from","request","args","prepare","response","ethProviderRequestV2","then","res","parse","raw","error","result","e","Error","message","match","ethProviderRequest","BaseError","InternalError","undefined","announceProvider","detail","event","CustomEvent","Object","freeze","window","dispatchEvent","handler","addEventListener","removeEventListener","document","eip6963RequestProvider","MessageEvent","ethProviderEvent","data","emit","params","frameEvent","info","type"],"sources":["/home/nick/Desktop/Monagaynanimas_Neynar/node_modules/@farcaster/frame-sdk/dist/provider.js"],"sourcesContent":["import * as Provider from 'ox/Provider';\nimport * as RpcRequest from 'ox/RpcRequest';\nimport * as RpcResponse from 'ox/RpcResponse';\nimport { frameHost } from './frameHost';\nconst emitter = Provider.createEmitter();\nconst store = RpcRequest.createStore();\nfunction toProviderRpcError({ code, details, }) {\n    switch (code) {\n        case 4001:\n            return new Provider.UserRejectedRequestError();\n        case 4100:\n            return new Provider.UnauthorizedError();\n        case 4200:\n            return new Provider.UnsupportedMethodError();\n        case 4900:\n            return new Provider.DisconnectedError();\n        case 4901:\n            return new Provider.ChainDisconnectedError();\n        default:\n            return new Provider.ProviderRpcError(code, details ?? 'Unknown provider RPC error');\n    }\n}\nexport const provider = Provider.from({\n    ...emitter,\n    async request(args) {\n        // @ts-expect-error\n        const request = store.prepare(args);\n        try {\n            const response = await frameHost\n                .ethProviderRequestV2(request)\n                .then((res) => RpcResponse.parse(res, { request, raw: true }));\n            if (response.error) {\n                throw toProviderRpcError(response.error);\n            }\n            return response.result;\n        }\n        catch (e) {\n            // ethProviderRequestV2 not supported, fall back to v1\n            if (e instanceof Error &&\n                e.message.match(/cannot read property 'apply'/i)) {\n                return await frameHost.ethProviderRequest(request);\n            }\n            if (e instanceof Provider.ProviderRpcError ||\n                e instanceof RpcResponse.BaseError) {\n                throw e;\n            }\n            throw new RpcResponse.InternalError({\n                message: e instanceof Error ? e.message : undefined,\n            });\n        }\n    },\n});\nfunction announceProvider(detail) {\n    const event = new CustomEvent('eip6963:announceProvider', { detail: Object.freeze(detail) });\n    window.dispatchEvent(event);\n    const handler = () => window.dispatchEvent(event);\n    window.addEventListener('eip6963:requestProvider', handler);\n    return () => window.removeEventListener('eip6963:requestProvider', handler);\n}\n// Required to pass SSR\nif (typeof document !== 'undefined') {\n    // forward eip6963:requestProvider events to the host\n    document.addEventListener('eip6963:requestProvider', () => {\n        frameHost.eip6963RequestProvider();\n    });\n    // react native webview events\n    document.addEventListener('FarcasterFrameEthProviderEvent', (event) => {\n        if (event instanceof MessageEvent) {\n            const ethProviderEvent = event.data;\n            // @ts-expect-error\n            emitter.emit(ethProviderEvent.event, ...ethProviderEvent.params);\n        }\n    });\n    document.addEventListener('FarcasterFrameEvent', (event) => {\n        if (event instanceof MessageEvent) {\n            const frameEvent = event.data;\n            if (frameEvent.event === 'eip6963:announceProvider') {\n                announceProvider({\n                    info: frameEvent.info,\n                    provider: provider,\n                });\n            }\n        }\n    });\n}\n// Required to pass SSR\nif (typeof window !== 'undefined') {\n    // forward eip6963:requestProvider events to the host\n    window.addEventListener('eip6963:requestProvider', () => {\n        frameHost.eip6963RequestProvider();\n    });\n    // web events\n    window.addEventListener('message', (event) => {\n        if (event instanceof MessageEvent) {\n            if (event.data.type === 'frameEthProviderEvent') {\n                const ethProviderEvent = event.data;\n                // @ts-expect-error\n                emitter.emit(ethProviderEvent.event, ...ethProviderEvent.params);\n            }\n        }\n    });\n    window.addEventListener('message', (event) => {\n        if (event instanceof MessageEvent) {\n            if (event.data.type === 'frameEvent') {\n                const frameEvent = event.data.event;\n                if (frameEvent.event === 'eip6963:announceProvider') {\n                    announceProvider({\n                        info: frameEvent.info,\n                        provider: provider,\n                    });\n                }\n            }\n        }\n    });\n}\n"],"mappings":"AAAA,OAAO,KAAKA,QAAQ,MAAM,aAAa;AACvC,OAAO,KAAKC,UAAU,MAAM,eAAe;AAC3C,OAAO,KAAKC,WAAW,MAAM,gBAAgB;AAC7C,SAASC,SAAS,QAAQ,aAAa;AACvC,MAAMC,OAAO,GAAGJ,QAAQ,CAACK,aAAa,CAAC,CAAC;AACxC,MAAMC,KAAK,GAAGL,UAAU,CAACM,WAAW,CAAC,CAAC;AACtC,SAASC,kBAAkBA,CAAAC,IAAA,EAAqB;EAAA,IAApB;IAAEC,IAAI;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAC1C,QAAQC,IAAI;IACR,KAAK,IAAI;MACL,OAAO,IAAIV,QAAQ,CAACY,wBAAwB,CAAC,CAAC;IAClD,KAAK,IAAI;MACL,OAAO,IAAIZ,QAAQ,CAACa,iBAAiB,CAAC,CAAC;IAC3C,KAAK,IAAI;MACL,OAAO,IAAIb,QAAQ,CAACc,sBAAsB,CAAC,CAAC;IAChD,KAAK,IAAI;MACL,OAAO,IAAId,QAAQ,CAACe,iBAAiB,CAAC,CAAC;IAC3C,KAAK,IAAI;MACL,OAAO,IAAIf,QAAQ,CAACgB,sBAAsB,CAAC,CAAC;IAChD;MACI,OAAO,IAAIhB,QAAQ,CAACiB,gBAAgB,CAACP,IAAI,EAAEC,OAAO,IAAI,4BAA4B,CAAC;EAC3F;AACJ;AACA,OAAO,MAAMO,QAAQ,GAAGlB,QAAQ,CAACmB,IAAI,CAAC;EAClC,GAAGf,OAAO;EACV,MAAMgB,OAAOA,CAACC,IAAI,EAAE;IAChB;IACA,MAAMD,OAAO,GAAGd,KAAK,CAACgB,OAAO,CAACD,IAAI,CAAC;IACnC,IAAI;MACA,MAAME,QAAQ,GAAG,MAAMpB,SAAS,CAC3BqB,oBAAoB,CAACJ,OAAO,CAAC,CAC7BK,IAAI,CAAEC,GAAG,IAAKxB,WAAW,CAACyB,KAAK,CAACD,GAAG,EAAE;QAAEN,OAAO;QAAEQ,GAAG,EAAE;MAAK,CAAC,CAAC,CAAC;MAClE,IAAIL,QAAQ,CAACM,KAAK,EAAE;QAChB,MAAMrB,kBAAkB,CAACe,QAAQ,CAACM,KAAK,CAAC;MAC5C;MACA,OAAON,QAAQ,CAACO,MAAM;IAC1B,CAAC,CACD,OAAOC,CAAC,EAAE;MACN;MACA,IAAIA,CAAC,YAAYC,KAAK,IAClBD,CAAC,CAACE,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC,EAAE;QAClD,OAAO,MAAM/B,SAAS,CAACgC,kBAAkB,CAACf,OAAO,CAAC;MACtD;MACA,IAAIW,CAAC,YAAY/B,QAAQ,CAACiB,gBAAgB,IACtCc,CAAC,YAAY7B,WAAW,CAACkC,SAAS,EAAE;QACpC,MAAML,CAAC;MACX;MACA,MAAM,IAAI7B,WAAW,CAACmC,aAAa,CAAC;QAChCJ,OAAO,EAAEF,CAAC,YAAYC,KAAK,GAAGD,CAAC,CAACE,OAAO,GAAGK;MAC9C,CAAC,CAAC;IACN;EACJ;AACJ,CAAC,CAAC;AACF,SAASC,gBAAgBA,CAACC,MAAM,EAAE;EAC9B,MAAMC,KAAK,GAAG,IAAIC,WAAW,CAAC,0BAA0B,EAAE;IAAEF,MAAM,EAAEG,MAAM,CAACC,MAAM,CAACJ,MAAM;EAAE,CAAC,CAAC;EAC5FK,MAAM,CAACC,aAAa,CAACL,KAAK,CAAC;EAC3B,MAAMM,OAAO,GAAGA,CAAA,KAAMF,MAAM,CAACC,aAAa,CAACL,KAAK,CAAC;EACjDI,MAAM,CAACG,gBAAgB,CAAC,yBAAyB,EAAED,OAAO,CAAC;EAC3D,OAAO,MAAMF,MAAM,CAACI,mBAAmB,CAAC,yBAAyB,EAAEF,OAAO,CAAC;AAC/E;AACA;AACA,IAAI,OAAOG,QAAQ,KAAK,WAAW,EAAE;EACjC;EACAA,QAAQ,CAACF,gBAAgB,CAAC,yBAAyB,EAAE,MAAM;IACvD7C,SAAS,CAACgD,sBAAsB,CAAC,CAAC;EACtC,CAAC,CAAC;EACF;EACAD,QAAQ,CAACF,gBAAgB,CAAC,gCAAgC,EAAGP,KAAK,IAAK;IACnE,IAAIA,KAAK,YAAYW,YAAY,EAAE;MAC/B,MAAMC,gBAAgB,GAAGZ,KAAK,CAACa,IAAI;MACnC;MACAlD,OAAO,CAACmD,IAAI,CAACF,gBAAgB,CAACZ,KAAK,EAAE,GAAGY,gBAAgB,CAACG,MAAM,CAAC;IACpE;EACJ,CAAC,CAAC;EACFN,QAAQ,CAACF,gBAAgB,CAAC,qBAAqB,EAAGP,KAAK,IAAK;IACxD,IAAIA,KAAK,YAAYW,YAAY,EAAE;MAC/B,MAAMK,UAAU,GAAGhB,KAAK,CAACa,IAAI;MAC7B,IAAIG,UAAU,CAAChB,KAAK,KAAK,0BAA0B,EAAE;QACjDF,gBAAgB,CAAC;UACbmB,IAAI,EAAED,UAAU,CAACC,IAAI;UACrBxC,QAAQ,EAAEA;QACd,CAAC,CAAC;MACN;IACJ;EACJ,CAAC,CAAC;AACN;AACA;AACA,IAAI,OAAO2B,MAAM,KAAK,WAAW,EAAE;EAC/B;EACAA,MAAM,CAACG,gBAAgB,CAAC,yBAAyB,EAAE,MAAM;IACrD7C,SAAS,CAACgD,sBAAsB,CAAC,CAAC;EACtC,CAAC,CAAC;EACF;EACAN,MAAM,CAACG,gBAAgB,CAAC,SAAS,EAAGP,KAAK,IAAK;IAC1C,IAAIA,KAAK,YAAYW,YAAY,EAAE;MAC/B,IAAIX,KAAK,CAACa,IAAI,CAACK,IAAI,KAAK,uBAAuB,EAAE;QAC7C,MAAMN,gBAAgB,GAAGZ,KAAK,CAACa,IAAI;QACnC;QACAlD,OAAO,CAACmD,IAAI,CAACF,gBAAgB,CAACZ,KAAK,EAAE,GAAGY,gBAAgB,CAACG,MAAM,CAAC;MACpE;IACJ;EACJ,CAAC,CAAC;EACFX,MAAM,CAACG,gBAAgB,CAAC,SAAS,EAAGP,KAAK,IAAK;IAC1C,IAAIA,KAAK,YAAYW,YAAY,EAAE;MAC/B,IAAIX,KAAK,CAACa,IAAI,CAACK,IAAI,KAAK,YAAY,EAAE;QAClC,MAAMF,UAAU,GAAGhB,KAAK,CAACa,IAAI,CAACb,KAAK;QACnC,IAAIgB,UAAU,CAAChB,KAAK,KAAK,0BAA0B,EAAE;UACjDF,gBAAgB,CAAC;YACbmB,IAAI,EAAED,UAAU,CAACC,IAAI;YACrBxC,QAAQ,EAAEA;UACd,CAAC,CAAC;QACN;MACJ;IACJ;EACJ,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}