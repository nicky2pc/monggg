{"ast":null,"code":"import{Enemy}from\"./classes/Enemy.ts\";import{CONFIG}from\"./config.ts\";const ENEMY_COLORS=[\"#eb4034\",\"#635a19\",\"#b34a09\",\"#0a6349\",\"#0b1852\",\"#380613\",\"#000000\"];export default function createEnemy(enemiesRef,difficulty,firstPlayer,type,frameMultiplier,imageCache){if(enemiesRef.length>=CONFIG.MAX_ENEMIES){return enemiesRef;}const padding=100;const randomX=padding+Math.random()*(CONFIG.CANVAS_WIDTH-padding*2);const randomY=padding+Math.random()*(CONFIG.CANVAS_HEIGHT-padding*2);let difficultyMultiplier=Math.min(1+difficulty*0.1,2.5);const baseBulletSpeed=(1.2+Math.random()*1)*frameMultiplier;const baseFireRate=2500+Math.random()*1500;const baseMoveSpeed=(0.3+Math.random()*0.4)*frameMultiplier;const bulletSpeed=type===\"fire\"?2*frameMultiplier:Math.min(baseBulletSpeed*difficultyMultiplier,4);const fireRate=type===\"fire\"?800:Math.max(baseFireRate/difficultyMultiplier,800);const moveSpeed=type===\"fire\"?5*frameMultiplier:Math.min(baseMoveSpeed*difficultyMultiplier,1.5);const enemyKeys=Object.keys(imageCache.enemies);const fireKeys=Object.keys(imageCache.fire);let characterImage;if(type===\"fire\"&&fireKeys.length>0){characterImage=imageCache.fire[0];}else if(enemyKeys.length>0){const randomKey=enemyKeys[Math.floor(Math.random()*enemyKeys.length)];characterImage=imageCache.enemies[randomKey];}if(!characterImage){console.error(\"Can't get image for monanimal type:\",type);}const bulletColor=type===\"fire\"?\"orange\":ENEMY_COLORS[Math.floor(Math.random()*ENEMY_COLORS.length)];const spawnTime=firstPlayer?Date.now()+3000:Date.now();enemiesRef.push(new Enemy(randomX,randomY,bulletSpeed,fireRate,moveSpeed,bulletColor,spawnTime,type,characterImage));return enemiesRef;}","map":{"version":3,"names":["Enemy","CONFIG","ENEMY_COLORS","createEnemy","enemiesRef","difficulty","firstPlayer","type","frameMultiplier","imageCache","length","MAX_ENEMIES","padding","randomX","Math","random","CANVAS_WIDTH","randomY","CANVAS_HEIGHT","difficultyMultiplier","min","baseBulletSpeed","baseFireRate","baseMoveSpeed","bulletSpeed","fireRate","max","moveSpeed","enemyKeys","Object","keys","enemies","fireKeys","fire","characterImage","randomKey","floor","console","error","bulletColor","spawnTime","Date","now","push"],"sources":["/home/nick/Desktop/Monagaynanimas_Neynar/src/game/createEnemy.ts"],"sourcesContent":["import { Enemy } from \"./classes/Enemy.ts\";\nimport { CONFIG } from \"./config.ts\";\n\nconst ENEMY_COLORS = [\"#eb4034\", \"#635a19\", \"#b34a09\", \"#0a6349\", \"#0b1852\", \"#380613\", \"#000000\"];\n\nexport default function createEnemy(enemiesRef, difficulty: number, firstPlayer: boolean, type: string, frameMultiplier: number, imageCache: any) {\n  if (enemiesRef.length >= CONFIG.MAX_ENEMIES) {\n    return enemiesRef;\n  }\n  \n  const padding = 100;\n  const randomX = padding + Math.random() * (CONFIG.CANVAS_WIDTH - padding * 2);\n  const randomY = padding + Math.random() * (CONFIG.CANVAS_HEIGHT - padding * 2);\n\n  let difficultyMultiplier = Math.min(1 + difficulty * 0.1, 2.5);\n\n  const baseBulletSpeed = ( 1.2 + Math.random() * 1 ) * frameMultiplier;\n  const baseFireRate = 2500 + Math.random() * 1500;\n  const baseMoveSpeed = ( 0.3 + Math.random() * 0.4) * frameMultiplier;\n  \n  const bulletSpeed = type === \"fire\" ? 2 * frameMultiplier : Math.min(baseBulletSpeed * difficultyMultiplier, 4);\n  const fireRate = type === \"fire\" ? 800 : Math.max(baseFireRate / difficultyMultiplier, 800);\n  const moveSpeed = type === \"fire\" ? 5 * frameMultiplier : Math.min(baseMoveSpeed * difficultyMultiplier, 1.5);\n\n  const enemyKeys = Object.keys(imageCache.enemies);\n  const fireKeys = Object.keys(imageCache.fire);\n\n  let characterImage;\n  if (type === \"fire\" && fireKeys.length > 0) {\n    characterImage = imageCache.fire[0];\n  } else if (enemyKeys.length > 0) {\n    const randomKey = enemyKeys[Math.floor(Math.random() * enemyKeys.length)];\n    characterImage = imageCache.enemies[randomKey];\n  }\n\n  if (!characterImage) {\n    console.error(\"Can't get image for monanimal type:\", type);\n  }\n\n  const bulletColor = type === \"fire\" ? \"orange\" : ENEMY_COLORS[Math.floor(Math.random() * ENEMY_COLORS.length)];\n\n  const spawnTime = firstPlayer ? Date.now() + 3000 : Date.now();\n  \n  enemiesRef.push(new Enemy(randomX, randomY, bulletSpeed, fireRate, moveSpeed, bulletColor, spawnTime, type, characterImage));\n  \n  return enemiesRef;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}