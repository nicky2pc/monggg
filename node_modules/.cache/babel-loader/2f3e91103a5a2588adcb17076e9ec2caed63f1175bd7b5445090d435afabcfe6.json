{"ast":null,"code":"import { v4 as uuidv4 } from 'uuid';\nexport const getOrCreatePlayerId = () => {\n  let id = localStorage.getItem('playerId');\n  if (!id) {\n    id = uuidv4();\n    localStorage.setItem('playerId', id);\n  }\n  return id;\n};\nexport const playSound = (src, isSoundOn, audioPool) => {\n  if (!isSoundOn) return audioPool;\n  const audio = new Audio(src);\n  audio.volume = 0.05;\n  audioPool.push(audio);\n  audio.play();\n  audio.onended = () => {\n    audioPool = audioPool.filter(a => a !== audio);\n  };\n  return audioPool;\n};\nexport const playRandomSound = (sounds, category, isSoundOn, audioPool) => {\n  if (!isSoundOn || !sounds || !sounds[category] || sounds[category].length === 0) return audioPool;\n  const randomIndex = Math.floor(Math.random() * sounds[category].length);\n  const audio = sounds[category][randomIndex];\n  audio.volume = 0.3;\n  audioPool.push(audio);\n  audio.play();\n  audio.onended = () => {\n    audioPool = audioPool.filter(a => a !== audio);\n  };\n  return audioPool;\n};\nexport const loadSounds = async () => {\n  const soundLibrary = {\n    kill: [],\n    death: [],\n    hit: [],\n    shoot: []\n  };\n  for (let i = 1; i <= 9; i++) {\n    soundLibrary.kill.push(new Audio(`/sound/kill/kill${i}.mp3`));\n  }\n  for (let i = 1; i <= 7; i++) {\n    soundLibrary.death.push(new Audio(`/sound/death/death${i}.mp3`));\n  }\n  for (let i = 1; i <= 2; i++) {\n    soundLibrary.hit.push(new Audio(`/sound/hit/hit${i}.mp3`));\n  }\n  soundLibrary.shoot.push(new Audio(`/sound/shoot/shooooot.mp3`));\n  soundLibrary.shoot.push(new Audio(`/sound/shoot/shooooot1.mp3`));\n  soundLibrary.shoot.push(new Audio(`/sound/shoot/heal.mp3`));\n  return soundLibrary;\n};\nexport const sendTransaction = async (score, isDead = false) => {\n  try {\n    const playerId = getOrCreatePlayerId();\n    const reqData = {\n      id: playerId,\n      score: `${score}`,\n      isDead: isDead\n    };\n    const response = await fetch(\"https://gameapi.monadassistant.xyz/set_score\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(reqData)\n    });\n    if (!response.ok) {\n      throw new Error(`Err: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Err:\", error);\n  }\n};\nexport const mint = async () => {\n  try {\n    const playerId = getOrCreatePlayerId();\n    const reqData = {\n      id: playerId\n    };\n    const response = await fetch(\"https://gameapi.monadassistant.xyz/mint\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(reqData)\n    });\n    if (!response.ok) {\n      throw new Error(`Error mint: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Err:\", error);\n  }\n};\nexport const getLeaderBoard = async () => {\n  const response = await fetch(\"https://gameapi.monadassistant.xyz/get_top_10_scores\", {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  if (!response.ok) {\n    throw new Error(`Error getting leaderboard: ${response.statusText}`);\n  }\n  const data = await response.json();\n  return data;\n};","map":{"version":3,"names":["v4","uuidv4","getOrCreatePlayerId","id","localStorage","getItem","setItem","playSound","src","isSoundOn","audioPool","audio","Audio","volume","push","play","onended","filter","a","playRandomSound","sounds","category","length","randomIndex","Math","floor","random","loadSounds","soundLibrary","kill","death","hit","shoot","i","sendTransaction","score","isDead","playerId","reqData","response","fetch","method","headers","body","JSON","stringify","ok","Error","statusText","data","json","error","console","mint","getLeaderBoard"],"sources":["/home/nick/Desktop/Monagaynanimas/src/game/utils.ts"],"sourcesContent":["import { v4 as uuidv4 } from 'uuid';\n\nexport const getOrCreatePlayerId = (): string => {\n  let id = localStorage.getItem('playerId');\n  if (!id) {\n    id = uuidv4();\n    localStorage.setItem('playerId', id);\n  }\n  return id;\n};\n\nexport const playSound = (src: string, isSoundOn: boolean, audioPool: HTMLAudioElement[]) => {\n  if (!isSoundOn) return audioPool;\n  \n  const audio = new Audio(src);\n  audio.volume = 0.05;\n  audioPool.push(audio); \n  audio.play();\n\n  audio.onended = () => {\n    audioPool = audioPool.filter(a => a !== audio);\n  };\n\n  return audioPool;\n};\n\nexport const playRandomSound = (\n  sounds,\n  category: keyof typeof sounds,\n  isSoundOn: boolean,\n  audioPool: HTMLAudioElement[]\n) => {\n  if (!isSoundOn || !sounds || !sounds[category] || sounds[category].length === 0) return audioPool;\n\n  const randomIndex = Math.floor(Math.random() * sounds[category].length);\n  const audio = sounds[category][randomIndex];\n\n  audio.volume = 0.3;\n  audioPool.push(audio);\n  audio.play();\n\n  audio.onended = () => {\n    audioPool = audioPool.filter(a => a !== audio);\n  };\n\n  return audioPool;\n};\n\nexport const loadSounds = async () => {\n  const soundLibrary: { [key: string]: HTMLAudioElement[] } = {\n    kill: [],\n    death: [],\n    hit: [],\n    shoot: []\n  };\n\n  for (let i = 1; i <= 9; i++) {\n    soundLibrary.kill.push(new Audio(`/sound/kill/kill${i}.mp3`));\n  }\n\n  for (let i = 1; i <= 7; i++) {\n    soundLibrary.death.push(new Audio(`/sound/death/death${i}.mp3`));\n  }\n\n  for (let i = 1; i <= 2; i++) {\n    soundLibrary.hit.push(new Audio(`/sound/hit/hit${i}.mp3`));\n  }\n\n  soundLibrary.shoot.push(new Audio(`/sound/shoot/shooooot.mp3`));\n  soundLibrary.shoot.push(new Audio(`/sound/shoot/shooooot1.mp3`));\n  soundLibrary.shoot.push(new Audio(`/sound/shoot/heal.mp3`));\n\n  return soundLibrary;\n};\n\nexport const sendTransaction = async (score, isDead = false) => {\n  try {\n    const playerId = getOrCreatePlayerId();\n\n    const reqData = {\n      id: playerId,\n      score: `${score}`,\n      isDead: isDead\n    };    \n\n    const response = await fetch(\"https://gameapi.monadassistant.xyz/set_score\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(reqData) as any\n    });\n\n    if (!response.ok) {\n      throw new Error(`Err: ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Err:\", error);\n  }\n};\n\nexport const mint = async () => {\n  try {\n\n    const playerId = getOrCreatePlayerId();\n    const reqData = { id: playerId };\n\n    const response = await fetch(\"https://gameapi.monadassistant.xyz/mint\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(reqData)\n    });\n\n    if ( !response.ok ) {\n      throw new Error(`Error mint: ${response.statusText}` );\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Err:\", error);\n  }\n}\n\nexport const getLeaderBoard = async () => {\n  const response = await fetch(\"https://gameapi.monadassistant.xyz/get_top_10_scores\",\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error(`Error getting leaderboard: ${response.statusText}`);\n  }\n\n  const data = await response.json();\n  return data;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}